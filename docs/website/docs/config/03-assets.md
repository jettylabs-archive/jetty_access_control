# Assets

Asset configurations are located in the `<project dir>/assets/` directory and subdirectories. By default, the actual configuration files are named after the asset they represent, but they can be renamed. An asset configuration file looks something like this:

```yaml title="assets/snowflake/ANALYTICS_DB (DATABASE)/ANALYTICS_DB (DATABASE).yaml"
identifier:
    name: ANALYTICS_DB
    asset type: DATABASE
    connector: snowflake
    id: ee566786-a4b7-58f5-a092-9dd0bd9f5c61
policies:
    - groups:
          - snowflake::ANALYTICS_MANAGERS
      privileges:
          - CREATE SCHEMA
          - MONITOR
    - groups:
          - snowflake::DATA_ENG_ADMIN
          - snowflake::PRODUCT_ANALYST
      privileges:
          - USAGE
default policies:
    - path: /*
      target type: SCHEMA
      connector managed: true
      groups:
          - snowflake::DATA_ENG_ADMIN
      privileges:
          - CREATE SEQUENCE
          - CREATE STAGE
          - CREATE TABLE
          - CREATE VIEW
          - MONITOR
          - USAGE
```

Assets have three main sections: identifier, policies, and default policies.

## Identifier Configurations

The identifier property in an asset configuration file is generated by Jetty and helps the system to know what asset is being configured. Don't edit the values. The properties are as follows:

-   **name** (required) - The full asset path in Jetty
-   **asset type** (required) - The type of asset being configured (this is necessary to disambiguate matching paths on some platforms)
-   **connector** (required) - The connector that this asset originates from
-   **id** (required) - A Jetty-specific stable identifier for the asset (derived from the three fields above)

## Policy Configurations

Policies are configured with the following properties:

-   **users** (users and groups cannot both be empty) - A list of user names, as defined in the user configurations, that the configuration applies to (the configuration above does not include the users property because snowflake does not allow policies to be set on users, and the validity of policies is defined by the connected systems)
-   **groups** (users and groups cannot both be empty) - A list of group names, as defined in the group configurations, that the configuration applies to
-   **privileges** (required, but can be null) - A list of the platform-specific privileges that should be granted; these must be valid privileges for the connector and asset type

## Default Policy Configurations

Default policies represent templates that will be applied to assets that don't have a more specific policy applied to them.

:::note Policy order of operations
Because overlapping policies can exist (for example, a default policy set on an asset may conflict with a regular policy set directly on the asset), Jetty tracks the specificity of each policy and only applies the most specific. The basic order of precedence is:

1. Regular policies set directly on an asset
1. Default policies set on an asset's parent, with a path ending in `/*`
1. Default policies set on an asset's parent, with a path ending in `/**`
1. Default policies set on an asset's grandparent, with a path ending in `/*`
1. _etc._

:::

They are configured with the following properties:

-   **path** (required) - A path of wildcards (e.g. /\*/\*/\*\*, /\*\* or /\*) that specifies at which level of the hierarchy the policy should be applied
-   **target type** (required) - The asset type that the policy should be applied to
-   **connector-managed** (optional, default = `false`) - Whether the default policy should be passed to the connector as connector-managed (rather than only passed as a collection of individual policies); this is for cases where the connected platforms can apply default policies directly (as future grants in Snowflake, or default permissions in Tableau for example)
-   **users** (users and groups cannot both be empty) - A list of user names, as defined in the user configurations, that the configuration applies to (the configuration above does not include the users property because snowflake does not allow policies to be set on users, and the validity of policies is defined by the connected systems)
-   **groups** (users and groups cannot both be empty) - A list of group names, as defined in the group configurations, that the configuration applies to
-   **privileges** (required, but can be null) - A list of the platform-specific privileges that should be granted; these must be valid privileges for the connector and asset type
